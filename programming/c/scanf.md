# 强大的scanf家族

------------------------------------

```
scanf家族有三个成员 scanf、sscanf 和 fscanf。
```

## 用法

-----------------------------------------------------------

```c++
//scanf
//从stdin标准输入流 读取指定格式的数据
int scanf ( const char * format, ... );

//sscanf
//从字符指针 const char * s 指向的字符串 读取指定格式的数据
int sscanf ( const char * s, const char * format, ...);

//fscanf
//从文件指针 FILE * stream 作为输入流 读取指定格式的数据
int fscanf ( FILE * stream, const char * format, ... );
```

```
	三个函数的返回值均是 **成功读取的数据个数**。当返回值小于我们指定的数据个数时，说明发生了错误(匹配错误，读取错误，文件结束等)。
feof判断文件是否结束，ferror判断文件是否发生读取错误，errno可以判断更确切的错误类型
```

## format强大之处

------------------------------------------------------

```
scanf函数家族的强大之处在于format参数的使用。都知道format指定%i、%f可以读取指定int和float类型的数据，但这个用法仅仅是format的一小成功力。实际上，format用法是可以支持匹配等丰富用法的。
```

### format 字符串中包含三种类型的字符

```
1. 空白字符 (忽略输入流中第一个非空白字符前方的所有空白字符)
2. 格式符 (指定数据读入的格式，以%开头)
3. 非空白非格式符 (必须完全匹配，不匹配则发生读取错误)
```

### 格式符的使用格式

```
%[*][width][length]specifier
```

##### specifier

```
	i -> 整数，可以指定+,-。可以是10进制数，0开头的8进制数和0x开头的16进制数

	d或u -> d为有符号整数，u为无符号整数，可以指定+,-。

	o -> 8机制整数

	x -> 16进制整数

	f,e,g,a -> 浮点数 (暂不清楚其区别，一般用f)

	c -> 一个字符,[width]可以指定读取几个字符

	s ->  字符串，任何一个空白字符都表示其读取结束，数据最后会加上\0

	p -> 字符表示的一个地址，即指针

	[characters] -> 字符集中的一个字符

	[^characters] -> 字符集的补集中的一个字符

	n -> 到目前字符为止读了多少个字符

	% -> %自身，格式字符串中出现%时需要%%进行转义。
```

##### *，width和length格式符

```
	%* -> 匹配该数据，但是跳过该数据的读取，如%*f


	width -> 在数据读取时指定最多读多少个字符

	length -> 可以为hh,h,l,ll,j,z,t,L其中的一个，用于描述基本数据类型。如%lc指定 wchar_t*类型等。
```

## 参考

---------------------------------

1. [C++文档:http://www.cplusplus.com/reference/cstdio/scanf/](http://www.cplusplus.com/reference/cstdio/scanf/)